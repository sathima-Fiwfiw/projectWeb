<div class="text-center">
  <h3 class="mb-4">เพิ่มเกมใหม่</h3>
</div>

<div class="container" style="max-width: 800px">
  <form (ngSubmit)="onSubmit()" #gameForm="ngForm">
    <div class="mb-4 text-center">
      <img
        [src]="game.bannerUrl"
        alt="Game Banner"
        class="img-fluid rounded"
        style="
          max-height: 250px;
          width: 100%;
          object-fit: cover;
          border: 1px solid #dee2e6;
          cursor: pointer;
        "
        (click)="fileInput.click()"
      />
      <input
        type="file"
        #fileInput
        (change)="onFileSelected($event)"
        style="display: none"
        accept="image/*"
      />
      <p class="mt-2 text-muted small">
        อัปโหลดภาพแบนเนอร์เกม (คลิกที่ภาพด้านบนเพื่อเลือกไฟล์)
      </p>
    </div>

    <div class="row g-3 mb-3">
      <div class="col-md-8">
        <input
          type="text"
          id="gameName"
          class="form-control"
          placeholder="ชื่อเกม (เช่น Rov)"
          [(ngModel)]="game.name"
          name="name"
          required
        />
      </div>
      <div class="col-md-4">
        <input
          type="number"
          id="gamePrice"
          class="form-control"
          placeholder="ราคา (เช่น 1000)"
          [(ngModel)]="game.price"
          name="price"
          required
        />
      </div>
    </div>

    <div class="mb-4">
      <textarea
        id="gameDescription"
        class="form-control"
        rows="3"
        placeholder="รายละเอียดเกม (เช่น เป็นเกม Action ที่สนุกมากๆ เล่นได้ทุกเพศทุกวัย น่าเบื่อร้อนพอ...)"
        [(ngModel)]="game.description"
        name="description"
        required
      ></textarea>
    </div>

    <div class="mb-5">
      <select
        id="gameCategory"
        class="form-select"
        [(ngModel)]="game.category"
        name="category"
        required
      >
        <option value="" disabled>เลือกหมวดหมู่</option>
        <option *ngFor="let cat of categories" [value]="cat">
          {{ cat }}
        </option>
      </select>
    </div>

    <div class="d-flex justify-content-end">
      <button type="button" class="btn btn-danger me-2" (click)="onCancel()">
        ยกเลิก
      </button>
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!gameForm.valid"
      >
        เพิ่มเกม
      </button>
    </div>
  </form>
</div>
